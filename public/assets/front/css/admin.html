<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>page administrateur</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href="./drapeaux.png">

    <link rel="stylesheet" href="style.css">
    <style>
  .button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 4px;
            margin-right: 10px;
        }
        .button.delete {
            background-color: #dc3545;
        }
        .section {
            display: none;
            margin-top: 20px;
        }
        .section.active {
            display: block;
        }
    </style>
</head>

<body>
    <nav>
        <ul>
            <li><a href="admin.html">Gérer la boutique</a></li>
            <li><a href="user.html">Gérer les utilisateurs</a></li>
            <li><a href="news.html">Gérer les news</a></li>
        </ul>


        <!-- Bouton de déconnexion -->
        <form action="logout.php" method="POST">
            <button type="submit">Déconnexion</button>
        </form>
    </nav>
    <main>

        <h1>Bienvenue sur ton site Mathieu </h1>

        <h2>Gérer la Boutique</h2>
        

        <!-- Boutons pour gérer les articles -->
        <a href="?section=modify" class="button">Modifier les articles</a>
        <a href="?section=delete" class="button delete">Supprimer un article</a>
        <a href="?section=create" class="button">Créer un article</a>
        
      <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                                        <thead>
                                            <tr role="row">
                                                <th class="sorting sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending">title</th>
                                                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" >date</th>
                                                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 182px;">img</th>
                                            </tr>
                                        </thead>
                                        <tfoot>
                                            <tr>
                                                <th rowspan="1" colspan="1">title</th>
                                                <th rowspan="1" colspan="1">date</th>
                                                <th rowspan="1" colspan="1">thumbnail</th>
                                            </tr>
                                        </tfoot>
                                        <tbody>
                                            <?php foreach ($data['posts'] as $key => $post) : ?>
                                                <tr>
                                                    <td><?= $post->getTitle(); ?></td>
                                                    <td><?= $post->getDate(); ?></td>
                                                    <td><img class="img-fluid" src="<?= $base_uri[0]; ?>/public/assets/front/img/<?= $post->getImg(); ?>" alt=""></td>
                                                    <td>
                                                        <form class="d-flex justify-content-center align-items-center" action="" method="post">
                                                            <input type="hidden" name="postid" value="<?= $post->getId(); ?>">
                                                            <input class="btn btn-primary" name="deletePostForm" type="submit" value="Delete">
                                                        </form>
                                                    </td>
                                                    <td>                                                                                                                    
                                                            <a class="btn btn-primary" href="<?= $base_uri[0]; ?>/public/admin/update/<?= $post->getId(); ?>">Update post</a>                                                        
                                                    </td>
                                                </tr>
                                            <?php endforeach ?>

                                    </table>
    </main>


</body>

</html>
